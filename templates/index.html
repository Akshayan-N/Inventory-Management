{% extends "layout.html" %}
<!-- Title -->
{% block title %}Inventory{% endblock %}

<!-- CSS Styling -->
{% block cssLink %}
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f0f4ff;
        margin: 0;
        padding: 0;
    }
    .container {
        display: flex;
        flex-direction: column;
        padding: 20px;
    }
    .main {
        background-color: #ffffff;
        padding: 20px;
        border-radius: 10px;
    }
    .header, .footer {
        padding: 10px 20px;
        background-color: #4c6ef5;
        color: #ffffff;
        text-align: center;
        border-radius: 10px;
    }
    .dashboard-cards {
        display: flex;
        justify-content: space-between;
        margin-bottom: 20px;
    }
    .card {
        background-color: #e9f0ff;
        border-radius: 10px;
        padding: 20px;
        width: 23%;
        text-align: center;
    }
    .marquee-container {
        margin: 20px 0;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 10px;
        background-color: #f9f9f9;
        overflow: hidden;
        white-space: nowrap;
        box-sizing: border-box;
    }
    .marquee-container img {
        height: 120px;
        margin-right:  100px;
        margin: 10px 20px;
        justify-content: space-between;
        display: inline-block;

    }

    .marquee-container img:last-child {
        margin-right: 0;
    }
   
    .chart-container {
        margin-top: 20px;
        display: flex;
        justify-content: space-around;
    }
    .chart-box {
        width: 45%;
        padding: 20px;
        background-color: #ffffff;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        border-radius: 10px;
    }
    
    #DistributionChart{
        display: flex;
        align-items: center;    
        height: 50vh; 
        justify-content: center; 
    }
  
</style>
{% endblock %}

<!-- Main Content -->
{% block content %}
<div class="header">Shopkeeper Dashboard</div>

<div class="container">
    <div class="main">
        <div class="dashboard-cards">
            <div class="card">
                <h4>Total Sales</h4>
                <p>₹500,000</p>
            </div>
            <div class="card">
                <h4>Total Income</h4>
                <p>₹180,432</p>
            </div>
            <div class="card">
                <h4>Products Sold</h4>
                <p>5,490</p>
            </div>
            <div class="card">
                <h4>Total Available Products</h4>
                <p>565</p>
            </div>
        </div>

        <div class="marquee-container">
            <marquee behavior="scroll" direction="left">
                <img src="https://thumbs.dreamstime.com/b/intricate-carving-design-wooden-coffee-table-minimalist-setting-white-background-high-quality-showcase-300619568.jpg" alt="Sofa">
                <img src="https://cdn.pixelspray.io/v2/black-bread-289bfa/TIw66q/wrkr/t.resize(h:1240,w:1400)/data/Westelm/12mar2024/10123131_4.jpg" alt="Table">
                <img src="https://img.freepik.com/premium-photo/classic-bed-with-builtin-nightstands-with-pure-white-background_1024117-19447.jpg" alt="Chair">
                <img src="https://encrypted-tbn0.gstatic.com/shopping?q=tbn:ANd9GcR70ZCoiXAd6wN7YrFR7lGSi1mtE9-qccIqRcx7IH9ok7AzStX55FpqFqQVKjufDkCqTmijHnhhK-GloExPiuLWoHV6soP1ouyxamc3rE89QITIo1SGavQP5co" alt="Bed">
            </marquee>
        </div>

        <div class="chart-container">
            <div class="chart-box"> 
                <h4>Monthly Profit</h4>
                <canvas id="monthlyProfitChart"></canvas>
            </div>
            <div class="chart-box">
                <h4>Sales Distribution by Product</h4>
                <div id="DistributionChart">
                    <canvas id="salesDistributionChart"></canvas>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="footer">Dashboard Footer</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    // Monthly Profit Bar Chart
    const monthlyProfitCtx = document.getElementById('monthlyProfitChart').getContext('2d');
    new Chart(monthlyProfitCtx, {
        type: 'bar',
        data: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
            datasets: [{
                label: 'Profit (₹)',
                data: [12000, 15000, 8000, 19000, 14000, 22000, 17000, 25000, 21000, 30000, 27000, 35000],
                backgroundColor: '#4c6ef5'
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });

    // Sales Distribution Pie Chart
    const salesDistributionCtx = document.getElementById('salesDistributionChart').getContext('2d');
    new Chart(salesDistributionCtx, {
        type: 'pie',
        data: {
            labels: ['Sofa', 'Table', 'Chair', 'Bed'],
            datasets: [{
                label: 'Sales Distribution',
                data: [30, 25, 20, 25],
                backgroundColor: ['#4c6ef5', '#ff6384', '#36a2eb', '#ffcd56']
            }]
        },
        options: {
            responsive: true
        }
    });
</script>
{% endblock %}
